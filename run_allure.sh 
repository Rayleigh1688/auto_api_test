#!/bin/bash

echo "ğŸ§¼ æ¸…ç†æ—§çš„ Allure æŠ¥å‘Š..."
rm -rf reports/allure-results reports/allure-report

echo "âœ… æ­£åœ¨æ‰§è¡Œæµ‹è¯•..."
PYTHONPATH=. pytest

echo "ğŸ“Š ç”Ÿæˆ Allure æŠ¥å‘Š HTML..."
allure generate reports/allure-results -o reports/allure-report --clean

if [ $? -eq 0 ]; then
  echo "ğŸŒ æ‰“å¼€ Allure æŠ¥å‘Šé¡µé¢..."
  allure open reports/allure-report
else
  echo "âŒ Allure æŠ¥å‘Šç”Ÿæˆå¤±è´¥ï¼Œè¯·æ£€æŸ¥æµ‹è¯•æ‰§è¡Œæˆ– Allure å®‰è£…æƒ…å†µã€‚"
fi

# PYTHONPATH=. pytest -s --case=login 1


# locust -f locust_main.py
